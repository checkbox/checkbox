plugin: shell
category_id: 2013.com.canonical.plainbox::virtualization
id: virtualization/kvm_check_vm
user: root
environ: KVM_TIMEOUT KVM_IMAGE http_proxy https_proxy
estimated_duration: 300.0
requires:
 package.name == 'qemu-system'
 package.name == 'qemu-utils'
 virtualization.kvm == 'supported'
command: virtualization kvm --debug --log-file=$PLAINBOX_SESSION_SHARE/virt_debug
_description:
 Verifies that a KVM guest can be created and booted using an Ubuntu Server
 cloud image.
_summary:
 Verify KVM VM boots

plugin: shell
category_id: 2013.com.canonical.plainbox::virtualization
id: virtualization/xen_ok
requires: package.name == 'libvirt-bin'
user: root
estimated_duration: 1.0
command: virsh -c xen:/// domstate Domain-0
_description:
 Test to verify that the Xen Hypervisor is running.
_summary:
 Verify Xen is running

plugin: shell
category_id: 2013.com.canonical.plainbox::virtualization
id: virtualization/xen_check_vm
depends: virtualization/xen_ok
user: root
estimated_duration: 300.0
command: xen_test /images/xentest.img /images/xentest.xml
_description:
 Test to check that a Xen domU image can boot and run on Xen on Ubuntu
_summary:
 Verify Xen domU can boot
