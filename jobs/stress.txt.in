plugin: shell
name: stress/cpu_stress_test
requires:
 package.name == 'linux'
 package.name == 'stress'
user: root
command: stress --cpu `cpuinfo_resource | awk '/count:/ {print $2}'` --vm `awk '/MemTotal/ {num_vm = $2/262144; if (num_vm != int(num_vm)) num_vm = int(num_vm) + 1; print num_vm}' /proc/meminfo` --timeout 7200
_description:
 PURPOSE:
     Create jobs that use the CPU as much as possible for two hours. The test is considered passed if the system does not freeze.

plugin: manual
name: power-management/hibernate_30_cycles
depends: power-management/rtc
requires: package.name == 'pm-utils'
user: root
command: sleep_test -i 30 -s disk -w 120 --debug
_description:
 PURPOSE:
     This test will enter and resume from hibernate for 30 iterations
 STEPS:
     1. Ensure your system has no power-on or HDD passwords set, and that grub is set to boot Ubuntu by default if you have a multi-boot set-up
     2. Click "Test" to start the test (very lengthy)
     3. If your system does not wake itself after 2 minutes, you will need to press the power button
     4. If the system fails to resume from hibernation and must be rebooted, please restart System Testing and mark this test as Failed
 VERIFICATION:
     Did the system successfully hibernate and wake 30 times?

plugin: manual
name: power-management/suspend_30_cycles
depends: power-management/rtc
requires: package.name == 'pm-utils'
user: root
command: sleep_test -i 30 -s mem --debug
_description:
 PURPOSE:
     This test will enter and resume from suspend for 30 iterations
 STEPS:
     1. Click "Test" to start the test (very lengthy)
     2. If the system fails to resume from suspend and must be rebooted, please restart System Testing and mark this test as Failed
 VERIFICATION:
     Did the system successfully suspend and resume 30 times?
